<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>geniusparadox</title>
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Menu Bar -->
  <div class="menubar">
    <div class="menubar-left">
      <span class="apple-logo"></span>
      <span class="menubar-app">geniusparadox</span>
      <span class="menubar-item" onclick="openWindow('about-window')">About</span>
      <span class="menubar-item" onclick="openWindow('projects-window')">Projects</span>
      <span class="menubar-item" onclick="openWindow('blog-window')">Notes</span>
      <span class="menubar-item" onclick="openWindow('twitter-window')">Twitter</span>
    </div>
    <div class="menubar-right">
      <span id="clock"></span>
    </div>
  </div>

  <!-- Desktop -->
  <div class="desktop">
    <!-- About Window -->
    <div class="window active" id="about-window">
      <div class="window-titlebar">
        <div class="traffic-lights">
          <div class="traffic-light close" onclick="closeWindow('about-window')"></div>
          <div class="traffic-light minimize"></div>
          <div class="traffic-light maximize"></div>
        </div>
        <div class="window-title">About</div>
      </div>
      <div class="window-content">
        <h1>geniusparadox</h1>
        <p>Up in the air I am, down with the people.</p>
        <p class="muted">Entrepreneur. Interests in humour, politics, coffee, cinema, F1, and cricket. @Purdue</p>
      </div>
    </div>

    <!-- Projects Window -->
    <div class="window" id="projects-window">
      <div class="window-titlebar">
        <div class="traffic-lights">
          <div class="traffic-light close" onclick="closeWindow('projects-window')"></div>
          <div class="traffic-light minimize"></div>
          <div class="traffic-light maximize"></div>
        </div>
        <div class="window-title">Projects</div>
      </div>
      <div class="window-content">
        <h1>Projects</h1>
        <p class="muted">Things I have created and am in the process of creating</p>
        <ul>
          <li>
            <a href="https://geniusparadox.github.io/metal-weight-calculator/" target="_blank">
              <div class="project-item">
                <span class="project-name">MachinistsTools</span>
                <span>‚Üí</span>
              </div>
            </a>
          </li>
          <li>
            <a href="https://mealmate.co" target="_blank">
              <div class="project-item">
                <span class="project-name">MealMate</span>
                <span>‚Üí</span>
              </div>
            </a>
          </li>
          <li>
            <a href="https://geniusparadox.github.io/gcodegen/" target="_blank">
              <div class="project-item">
                <span class="project-name">GCodeGen</span>
                <span>‚Üí</span>
              </div>
            </a>
          </li>
          <li>
            <a href="https://github.com/geniusparadox/cadviewer" target="_blank">
              <div class="project-item">
                <span class="project-name">CADViewer</span>
                <span>‚Üí</span>
              </div>
            </a>
          </li>
        </ul>
      </div>
    </div>

    <!-- Twitter Window -->
    <div class="window" id="twitter-window">
      <div class="window-titlebar">
        <div class="traffic-lights">
          <div class="traffic-light close" onclick="closeWindow('twitter-window')"></div>
          <div class="traffic-light minimize"></div>
          <div class="traffic-light maximize"></div>
        </div>
        <div class="window-title">Twitter</div>
      </div>
      <div class="window-content twitter-content">
        <iframe src="https://twitter.com/geniusparadox" width="100%" height="400" frameborder="0" style="border-radius: 0 0 12px 12px;"></iframe>
      </div>
    </div>

    <!-- Calendar Window -->
    <div class="window" id="calendar-window">
      <div class="window-titlebar">
        <div class="traffic-lights">
          <div class="traffic-light close" onclick="closeWindow('calendar-window')"></div>
          <div class="traffic-light minimize"></div>
          <div class="traffic-light maximize"></div>
        </div>
        <div class="window-title">Calendar</div>
      </div>
      <div class="window-content calendar-content">
        <div class="calendar-header">
          <span id="calendar-month-year"></span>
        </div>
        <div class="calendar-grid">
          <div class="calendar-weekdays">
            <span>Sun</span><span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span><span>Fri</span><span>Sat</span>
          </div>
          <div class="calendar-days" id="calendar-days"></div>
        </div>
      </div>
    </div>

    <!-- Weather Window -->
    <div class="window" id="weather-window">
      <div class="window-titlebar">
        <div class="traffic-lights">
          <div class="traffic-light close" onclick="closeWindow('weather-window')"></div>
          <div class="traffic-light minimize"></div>
          <div class="traffic-light maximize"></div>
        </div>
        <div class="window-title">Weather</div>
      </div>
      <div class="window-content weather-content">
        <div class="weather-location">Bangalore, India</div>
        <div class="weather-main">
          <span class="weather-temp" id="weather-temp">--¬∞</span>
          <span class="weather-icon-large" id="weather-icon-large">üå§</span>
        </div>
        <div class="weather-desc" id="weather-desc">Loading...</div>
        <div class="weather-details">
          <div class="weather-detail">
            <span class="weather-label">Humidity</span>
            <span id="weather-humidity">--%</span>
          </div>
          <div class="weather-detail">
            <span class="weather-label">Wind</span>
            <span id="weather-wind">-- km/h</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Blog Window -->
    <div class="window" id="blog-window">
      <div class="window-titlebar">
        <div class="traffic-lights">
          <div class="traffic-light close" onclick="closeWindow('blog-window')"></div>
          <div class="traffic-light minimize"></div>
          <div class="traffic-light maximize"></div>
        </div>
        <div class="window-title">Notes</div>
      </div>
      <div class="window-content">
        <h1>Notes</h1>
        <p class="muted">Thoughts, ideas, and everything in between.</p>
        <ul>
          <li>
            <div class="blog-date">January 27, 2025</div>
            <div class="blog-title">Welcome</div>
            <p>This is a digital space for everything I need or want to say. More thoughts coming soon.</p>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Dock -->
  <div class="dock">
    <div class="dock-item" onclick="openWindow('about-window')" title="About">
      <span>üë§</span>
    </div>
    <div class="dock-item" onclick="openWindow('projects-window')" title="Projects">
      <span>üìÅ</span>
    </div>
    <div class="dock-item" onclick="openWindow('blog-window')" title="Notes">
      <span>üìù</span>
    </div>
    <div class="dock-item" onclick="openWindow('twitter-window')" title="Twitter">
      <span>üê¶</span>
    </div>
    <div class="dock-separator"></div>
    <div class="dock-item calendar-icon" onclick="openWindow('calendar-window')" title="Calendar">
      <div class="calendar-day" id="calendar-day"></div>
    </div>
    <div class="dock-item weather-icon" onclick="openWindow('weather-window')" title="Weather">
      <span>üå§</span>
    </div>
  </div>

  <script>
    // Clock
    function updateClock() {
      const now = new Date();
      const options = { weekday: 'short', month: 'short', day: 'numeric', hour: 'numeric', minute: '2-digit' };
      document.getElementById('clock').textContent = now.toLocaleDateString('en-US', options);
    }
    updateClock();
    setInterval(updateClock, 1000);

    // Window management
    let zIndex = 10;

    function openWindow(id) {
      const win = document.getElementById(id);
      win.classList.add('active');
      win.style.zIndex = ++zIndex;
    }

    function closeWindow(id) {
      document.getElementById(id).classList.remove('active');
    }

    // Bring window to front on click
    document.querySelectorAll('.window').forEach(win => {
      win.addEventListener('mousedown', () => {
        win.style.zIndex = ++zIndex;
      });
    });

    // Calendar
    function renderCalendar() {
      const now = new Date();
      const year = now.getFullYear();
      const month = now.getMonth();
      const today = now.getDate();

      // Update dock icon
      document.getElementById('calendar-day').textContent = today;

      // Update calendar header
      const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
      document.getElementById('calendar-month-year').textContent = `${monthNames[month]} ${year}`;

      // Generate calendar days
      const firstDay = new Date(year, month, 1).getDay();
      const daysInMonth = new Date(year, month + 1, 0).getDate();

      let daysHTML = '';
      for (let i = 0; i < firstDay; i++) {
        daysHTML += '<span class="calendar-day-empty"></span>';
      }
      for (let day = 1; day <= daysInMonth; day++) {
        const isToday = day === today ? ' today' : '';
        daysHTML += `<span class="calendar-day-num${isToday}">${day}</span>`;
      }
      document.getElementById('calendar-days').innerHTML = daysHTML;
    }
    renderCalendar();

    // Weather for Bangalore
    async function fetchWeather() {
      try {
        const response = await fetch('https://api.open-meteo.com/v1/forecast?latitude=12.9716&longitude=77.5946&current=temperature_2m,relative_humidity_2m,weather_code,wind_speed_10m');
        const data = await response.json();
        const current = data.current;

        document.getElementById('weather-temp').textContent = Math.round(current.temperature_2m) + '¬∞';
        document.getElementById('weather-humidity').textContent = current.relative_humidity_2m + '%';
        document.getElementById('weather-wind').textContent = Math.round(current.wind_speed_10m) + ' km/h';

        // Weather code to description and icon
        const weatherCodes = {
          0: ['Clear sky', '‚òÄÔ∏è'],
          1: ['Mainly clear', 'üå§'],
          2: ['Partly cloudy', '‚õÖ'],
          3: ['Overcast', '‚òÅÔ∏è'],
          45: ['Foggy', 'üå´'],
          48: ['Foggy', 'üå´'],
          51: ['Light drizzle', 'üå¶'],
          53: ['Drizzle', 'üåß'],
          55: ['Heavy drizzle', 'üåß'],
          61: ['Light rain', 'üå¶'],
          63: ['Rain', 'üåß'],
          65: ['Heavy rain', 'üåß'],
          80: ['Light showers', 'üå¶'],
          81: ['Showers', 'üåß'],
          82: ['Heavy showers', 'üåß'],
          95: ['Thunderstorm', '‚õà'],
        };
        const [desc, icon] = weatherCodes[current.weather_code] || ['Unknown', 'üå°'];
        document.getElementById('weather-desc').textContent = desc;
        document.getElementById('weather-icon-large').textContent = icon;
      } catch (e) {
        document.getElementById('weather-desc').textContent = 'Unable to load';
      }
    }
    fetchWeather();

    // Draggable windows
    document.querySelectorAll('.window-titlebar').forEach(titlebar => {
      let isDragging = false;
      let startX, startY, startLeft, startTop;
      const win = titlebar.parentElement;

      titlebar.addEventListener('mousedown', (e) => {
        if (e.target.classList.contains('traffic-light')) return;
        isDragging = true;
        startX = e.clientX;
        startY = e.clientY;
        const rect = win.getBoundingClientRect();
        startLeft = rect.left;
        startTop = rect.top;
        win.style.zIndex = ++zIndex;
        e.preventDefault();
      });

      document.addEventListener('mousemove', (e) => {
        if (!isDragging) return;
        const dx = e.clientX - startX;
        const dy = e.clientY - startY;
        win.style.left = (startLeft + dx) + 'px';
        win.style.top = (startTop + dy) + 'px';
      });

      document.addEventListener('mouseup', () => {
        isDragging = false;
      });

      // Touch support for mobile
      titlebar.addEventListener('touchstart', (e) => {
        if (e.target.classList.contains('traffic-light')) return;
        isDragging = true;
        startX = e.touches[0].clientX;
        startY = e.touches[0].clientY;
        const rect = win.getBoundingClientRect();
        startLeft = rect.left;
        startTop = rect.top;
        win.style.zIndex = ++zIndex;
      });

      document.addEventListener('touchmove', (e) => {
        if (!isDragging) return;
        const dx = e.touches[0].clientX - startX;
        const dy = e.touches[0].clientY - startY;
        win.style.left = (startLeft + dx) + 'px';
        win.style.top = (startTop + dy) + 'px';
      });

      document.addEventListener('touchend', () => {
        isDragging = false;
      });
    });
  </script>
</body>
</html>
